---
title: element UI el-date-picker 年月日切换组件
date: 2021-12-27 10:15:45
permalink: /element-ui-date-picker-type-comp/
id: element-ui-date-picker-type-comp
categories:
  - 前端
tags:
  - ElementUI
  - 组件
  - 前端
---

# Element UI el-date-picker 年月日切换组件

组件特点：

1. 切换elementUI el-date-picker 的类型的按钮，并且页面显示不出问题
2. 有change事件抛出 有 类型变量.sync

```vue
<template>
  <div class="day-selector-comp">
    <div class='select-button-list'>
      <div v-for='type in timeTypeList'
           :key="type.value"
           class="select-button"
           :class="{active: timeType === type.value}"
           @click="handleTimeTypeChanged(type.value)">
        {{ type.label }}
      </div>
    </div>
    <div class='selectPicker'>
      <div v-for='type in timeTypeList' :key="type.value">
        <el-date-picker
            ref="datePicker"
            v-if="timeType === type.value"
            clearable
            v-model="timeModel"
            :type="type.value"
            v-on="$listeners"
        >
        </el-date-picker>
      </div>
    </div>
  </div>
</template>

<script>

export default {
	name: 'daySelector',
	props: {
		time: {
			type: Date,
			default: () => new Date()
		}
	},
	data() {
		return {
			timeType: 'date',
			timeTypeList: [
				{label: '日', value: 'date'},
				{label: '月', value: 'month'},
				{label: '年', value: 'year'}
			]
		};
	},
	computed: {
		timeModel: {
			get() {
				return this.time;
			},
			set(val) {
				this.$emit('update:time', val);
				this.$emit('changed', val);
			}
		}
	},
	methods: {
		handleTimeTypeChanged(val) {
			this.timeType = val;
			this.$emit('type-changed', val);
		}
	}
};
</script>

<style lang="scss" scoped>
.day-selector-comp {
  display: inline-flex;
  gap: 16px;
}

.select-button-list {
  display: flex;

  .select-button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 64px;
    height: 30px;
    border: 1px solid #dcdfe6;
    border-right: 0;
    background: #FFFFFF;
    cursor: pointer;

    &:first-child {
      border-radius: 4px 0 0 4px;
    }

    &:last-child {
      border-radius: 0 4px 4px 0;
      border-right: 1px solid #dcdfe6;
    }

    &.active {
      border: 1px solid #457AE6;
      background: #457AE6;
      color: #FFFFFF;
    }
  }
}
</style>
```
